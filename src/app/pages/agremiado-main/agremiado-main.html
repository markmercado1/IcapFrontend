<div class="agremiado-container">
  <h2 class="titulo-agremiados">Lista de Agremiados</h2>

  <mat-form-field class="inputField" appearance="outline">
    <mat-label>Filtrar</mat-label>
    <input
      matInput
      (keyup)="applyFilter($event)"
      placeholder="Buscar agremiado..."
    />
    <button
      mat-icon-button
      matSuffix
      *ngIf="dataSource.filter"
      (click)="applyFilter({ target: { value: '' } })"
    >
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>

  <div class="mat-elevation-z8 tabla-container">
    <table mat-table [dataSource]="dataSource" matSort class="styled-table">
      <ng-container matColumnDef="idAgremiado">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let row">{{ row.idAgremiado }}</td>
      </ng-container>
      <!-- DNI -->
      <ng-container matColumnDef="dni">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>DNI</th>
        <td mat-cell *matCellDef="let row">{{ row.dni }}</td>
      </ng-container>

      <ng-container matColumnDef="anombres">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombres</th>
        <td mat-cell *matCellDef="let row">{{ row.anombres }}</td>
      </ng-container>

      <ng-container matColumnDef="aapellidoPaterno">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Apellido Paterno
        </th>
        <td mat-cell *matCellDef="let row">{{ row.aapellidoPaterno }}</td>
      </ng-container>

      <ng-container matColumnDef="aapellidoMaterno">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Apellido Materno
        </th>
        <td mat-cell *matCellDef="let row">{{ row.aapellidoMaterno }}</td>
      </ng-container>

      <ng-container matColumnDef="acelular">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Celular</th>
        <td mat-cell *matCellDef="let row">{{ row.acelular }}</td>
      </ng-container>

      <ng-container matColumnDef="acorreo">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Correo</th>
        <td mat-cell *matCellDef="let row">{{ row.acorreo }}</td>
      </ng-container>

      <ng-container matColumnDef="adomiciloReal">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Domicilio Real
        </th>
        <td mat-cell *matCellDef="let row">{{ row.adomiciloReal }}</td>
      </ng-container>
      <ng-container matColumnDef="alugarNacimiento">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Lugar de Nacimiento
        </th>
        <td mat-cell *matCellDef="let row">{{ row.alugarNacimiento }}</td>
      </ng-container>

      <!-- Tipo de Colegiado -->
      <ng-container matColumnDef="tipoDeColegiado">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Tipo de Colegiado
        </th>
        <td mat-cell *matCellDef="let row">{{ row.tipoDeColegiado }}</td>
      </ng-container>

      <!-- Estado de Colegiado -->
      <ng-container matColumnDef="estadoDeColegiado">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Estado de Colegiado
        </th>
        <td mat-cell *matCellDef="let row">
          <span [ngClass]="getEstadoClase(row.estadoDeColegiado)">
            {{ row.estadoDeColegiado }}
          </span>
        </td>
      </ng-container>
      <!-- Ultimo pago -->
      <ng-container matColumnDef="ultimoPago">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ultimo Pago</th>
        <td mat-cell *matCellDef="let row">{{ row.ultimoPago }}</td>
      </ng-container>

      <!-- Encabezado y filas -->
      <tr mat-header-row *matHeaderRowDef="getDisplayedColumns()"></tr>
      <tr mat-row *matRowDef="let row; columns: getDisplayedColumns();"></tr>
    </table>
  </div>

  <mat-paginator
    [pageSizeOptions]="[5, 10, 20]"
    [length]="totalRegistros"
    [pageSize]="pageSize"
    [pageIndex]="currentPage"
    (page)="onPaginateChange($event)"
    showFirstLastButtons
  ></mat-paginator>
</div>
