<mat-card appearance="outlined" class="example-card">
  <mat-card-header>
    <mat-card-title>Formulario Cursos</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="coursForm" (ngSubmit)="operar()" class="form-grid">
      <div class="form-row">
        <mat-form-field appearance="fill">
          <mat-label>Nombre del Curso</mat-label>
          <input matInput formControlName="nombre" placeholder="Nombre" />
          <mat-error
            *ngIf="coursForm.get('nombre')?.invalid && coursForm.get('nombre')?.touched"
          >
            Campo requerido (mín. 8, máx. 100 caracteres)
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="fill">
          <mat-label>Descripción</mat-label>
          <textarea
            matInput
            formControlName="descripcion"
            placeholder="Descripción"
          ></textarea>
          <mat-error
            *ngIf="coursForm.get('descripcion')?.invalid && coursForm.get('descripcion')?.touched"
          >
            Campo requerido (mín. 8, máx. 250 caracteres)
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="fill">
          <mat-label>Fecha de Inicio</mat-label>
          <input
            matInput
            [matDatepicker]="inicioPicker"
            formControlName="fechaInicio"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="inicioPicker"
          ></mat-datepicker-toggle>
          <mat-datepicker #inicioPicker></mat-datepicker>
          <mat-error
            *ngIf="coursForm.get('fechaInicio')?.invalid && coursForm.get('fechaInicio')?.touched"
          >
            Campo requerido
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Fecha de Fin</mat-label>
          <input
            matInput
            [matDatepicker]="finPicker"
            formControlName="fechaFin"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="finPicker"
          ></mat-datepicker-toggle>
          <mat-datepicker #finPicker></mat-datepicker>
          <mat-error
            *ngIf="coursForm.get('fechaFin')?.invalid && coursForm.get('fechaFin')?.touched"
          >
            Campo requerido
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="fill">
          <mat-label>Modalidad</mat-label>
          <mat-select formControlName="modalidad">
            <mat-option value="PRESENCIAL">Presencial</mat-option>
            <mat-option value="VIRTUAL">Virtual</mat-option>
            <mat-option value="MIXTO">Mixto</mat-option>
          </mat-select>
          <mat-error
            *ngIf="coursForm.get('modalidad')?.invalid && coursForm.get('modalidad')?.touched"
          >
            Selecciona una modalidad
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Estado</mat-label>
          <mat-select formControlName="estado">
            <mat-option value="ACTIVO" [ngClass]="{ 'estado-activo': true }">Activo</mat-option>  
            <mat-option value="INACTIVO"  [ngClass]="{ 'estado-inactivo': true }">Inactivo</mat-option>
          </mat-select>
          <mat-error
            *ngIf="coursForm.get('estado')?.invalid && coursForm.get('estado')?.touched"
          >
            Selecciona un estado
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-row">
        <!-- Campo Trabajador -->
        <mat-form-field appearance="fill">
          <mat-label>Trabajador</mat-label>
          <mat-select formControlName="trabajador">
            <mat-option *ngFor="let t of trabajadores" [value]="t.idTrabajador">
              {{ t.tnombre }}
            </mat-option>
          </mat-select>
          <mat-error
            *ngIf="coursForm.get('trabajador')?.invalid && coursForm.get('trabajador')?.touched"
          >
            Selecciona un trabajador
          </mat-error>
        </mat-form-field>

        <!-- Campo Docente -->
        <mat-form-field appearance="fill">
          <mat-label>Docente</mat-label>
          <input
            matInput
            formControlName="docente"
            placeholder="Nombre del docente"
          />
          <mat-error
            *ngIf="coursForm.get('docente')?.invalid && coursForm.get('docente')?.touched"
          >
            Campo requerido (mín. 8, máx. 100 caracteres)
          </mat-error>
        </mat-form-field>
      </div>

      <div class="example-button-row">
        <button mat-flat-button color="primary" type="submit">Guardar</button>
        <button
          mat-stroked-button
          color="warn"
          type="button"
          (click)="cancelar()"
        >
          Cancelar
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
